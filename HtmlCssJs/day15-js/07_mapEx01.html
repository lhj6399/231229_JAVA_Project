<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 
        input 2개 생성 => 과목, 점수
        map에 추가
        출력 => map을 출력 ul => li 형태로 출력  html : 89
        결과 => 합계, 평균, 합격여부(60이상이면 합격)  => h3
     -->
     <form action="">
        과목: <input type="text" id="subject"><br>
        점수: <input type="text" id="score"><br>
        <button type="button" onclick="add()">추가</button>
        <button type="button" id="printBtn">출력</button>
        <button type="button" id="totBtn">결과</button>
     </form>
     <ul id="result">

     </ul>
     <h3 id="tot"></h3>

     <script>
        const myMap = new Map();
        const subject = document.getElementById('subject');
        const score = document.getElementById('score');
        const result = document.getElementById('result');
        const tot = document.getElementById('tot');
        const printBtn = document.getElementById('printBtn');
        const totBtn = document.getElementById('totBtn');

        let sum = 0;
        function add(){
            let subVal = subject.value;
            let scoreValue = Number(score.value);
            myMap.set(subVal, scoreValue);
            sum += scoreValue;
            console.log(myMap);
            console.log(sum);
            subject.value='';
            score.value='';
        }
        printBtn.addEventListener('click',()=>{
            let str='';
            myMap.forEach(function(v, k){
                str += `<li>${k} : ${v}</li>`;
            });
            result.innerHTML = str;
        });

        totBtn.addEventListener('click',()=>{
            let avg = sum / myMap.size;
            let pass = (avg >= 60)? 'pass' : 'fail';
            tot.innerText = `과목의 점수합계: ${sum}, 평균:${avg.toFixed(2)}, 합격여부:${pass}`;
        })
     </script>
</body>
</html>